package com.mcnc.bizmob.web.domain.board.notice.dto;

import java.time.LocalDateTime;

import com.mcnc.bizmob.web.domain.board.notice.dto.response.GetNoticeBoardDocResponse;
import com.mcnc.bizmob.web.domain.board.notice.enums.FlagType;
import com.mcnc.sm.hiplus.global.domain.BaseEntity;

import lombok.AccessLevel;
import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

@Getter
@Setter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
public class NoticeBoardDto extends BaseEntity {
	private String noticeDocId;
	private String title;
	private String contents;
	private FlagType displayFlag;
	private FlagType attachFlag;

	private String parentCategoryId; // hp_common_code_id
	private String parentCategoryName; // hp_common_code_id
	
	private String subCategoryId; // hp_common_code_id
	private String subCategoryName; // hp_common_code_id

	private FlagType pinFlag;
	private FlagType pubAlwaysFlag;
	private LocalDateTime pubStartDate;
	private LocalDateTime pubEndDate;
	
	@Builder
	public NoticeBoardDto(String noticeDocId, String title, String contents, FlagType displayFlag, FlagType pinFlag,
			String subCategoryId, String subCategoryName,String parentCategoryId, String parentCategoryName,
			FlagType attachFlag, FlagType pubAlwaysFlag, LocalDateTime pubStartDate, LocalDateTime pubEndDate) {
		this.noticeDocId = noticeDocId;
		this.title = title;
		this.contents = contents;
		this.subCategoryId = subCategoryId;
		this.subCategoryName = subCategoryName;
		this.parentCategoryId = parentCategoryId;
		this.parentCategoryName = parentCategoryName;
		this.displayFlag = displayFlag;
		this.pinFlag = pinFlag;
		this.attachFlag = FlagType.N;
		this.pubAlwaysFlag = pubAlwaysFlag;
		this.pubStartDate = pubStartDate;
		this.pubEndDate = pubEndDate;
		
		setCreateBy("admin");
		setUpdateBy("admin");
	}
	
	public void setDocIdBySeq(String docId) {
		this.noticeDocId = docId;
	}
	
	public GetNoticeBoardDocResponse of() {
		return GetNoticeBoardDocResponse.builder()
				.docId(noticeDocId)
				.title(title)
				.contents(contents)
				.displayFlag(displayFlag)
				.pinFlag(pinFlag)
				.pubAlwaysFlag(pubAlwaysFlag)
				.parentCategoryId(parentCategoryId)
				.parentCategoryName(parentCategoryName)
				.subCategoryId(subCategoryId)
				.subCategoryName(subCategoryName)
				.pubStartDate(pubStartDate)
				.pubEndDate(pubEndDate)
				.createDate(getCreateDate())
				.createBy(getCreateBy())
				.build();
	}
	
}
