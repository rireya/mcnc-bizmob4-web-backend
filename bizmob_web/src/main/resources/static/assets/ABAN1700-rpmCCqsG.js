import{d as h,j as m,a8 as k,E as H,k as E,l as U,p as V,_ as q,o as z,e as j,a as i,w as d,H as O,a2 as W,I as C,g as N,h as y}from"./index-C5K_s1wl.js";import{B as G}from"./BaseBreadcrumb-DEdlJy1-.js";import{B as J}from"./BannerForm-C6PZ5g-y.js";import{a as K}from"./useNetwork-BBZmMd-V.js";import{b as g}from"./common-AUcBvRqL.js";import{u as L}from"./useBannerMgmt-Citl6Y3L.js";import{f as A}from"./utils-CFlAkpuO.js";import"./PeriodDate-Y1bD6Y6f.js";import"./format-CimBkJP1.js";import"./LandingSelect-DityfkCS.js";import"./useCommonCode-DIzdSdac.js";const Q=h({__name:"ABAN1700",setup(I,{expose:t}){t();const S=m({title:"혜택배너 상세"}),e=m([{text:"Dashboard (Home)",disabled:!1,href:"/admin/dashboard"},{text:"배너 관리",disabled:!1,href:"/admin/banner"},{text:"혜택배너 관리",disabled:!1,href:"/admin/benefits-banners"},{text:"혜택배너 상세",disabled:!0,href:"#"}]),{deleteBanner:b,bannerDetail:c,updateBanner:n}=L(),f=k(),B=H(),{alert:_}=K(),l=E({startDate:"",endDate:null,noEndDate:!0}),D=m("N"),F=m(1),o=E({}),u=E({type:null,value:null});let p="",s=null;const x=m(),P=U(()=>{var r;return(r=x.value)==null?void 0:r.isFormValid()}),M=async()=>{const r=await b(g.BENEFIT,""+f.params.seq);r&&r.status&&B.push("/benefits-banners")},v=async()=>{const{status:r,data:a}=await c(g.BENEFIT,String(f.params.seq));r&&(l.startDate=a.pubStartDate,l.endDate=a.pubAlwaysFlag==="Y"?null:a.pubEndDate,l.noEndDate=a.pubAlwaysFlag==="Y",D.value=a.displayFlag,a.imageFile&&(s=a.imageFile,o.file={name:a.imageFile.fileName,size:a.imageFile.fileSize,uid:a.imageFile.attachId},o.imageUrl=a.imageFile.filePath),F.value=Number(a.rollingSortOrder),u.type=a.landingType,u.value=a.landingSpot,p=A(a.pubStartDate,"HH:mm:ss"))},R=async()=>{var Y;const r=o.file instanceof File?{attachId:(s==null?void 0:s.attachId)??"",fileName:o.file.name,filePath:"",orderNo:0,fileSize:o.file.size}:null,{status:a}=await n(g.BENEFIT,{docId:""+f.params.seq,imageFile:r,deleteImageFileId:(Y=o.deleteFile)==null?void 0:Y.uid,displayFlag:D.value,pubStartDate:A(l.startDate,"YYYY-MM-DD[T]")+p,pubEndDate:l.endDate?A(l.endDate,"YYYY-MM-DD[T]HH:mm:ss"):null,pubAlwaysFlag:l.noEndDate?"Y":"N",landingType:u.type,landingSpot:u.value,rollingSortOrder:F.value.toString()},o.file instanceof File?o.file:void 0);a&&(await T(),B.push("/benefits-banners"))},T=async()=>{await _("수정한 내용으로 저장되었습니다.")};V(()=>{v()});const w={page:S,breadcrumbs:e,deleteBanner:b,bannerDetail:c,updateBanner:n,route:f,router:B,alert:_,postingPeriod:l,exposed:D,order:F,file:o,landing:u,get pubStartTime(){return p},set pubStartTime(r){p=r},get imageInfo(){return s},set imageInfo(r){s=r},BannerFormRef:x,enable:P,onDeleteBanner:M,reqDetails:v,onSave:R,successMs:T,BaseBreadcrumb:G,get BannerForm(){return J},get BANNER_TYPE(){return g}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}});function X(I,t,S,e,b,c){return z(),j(W,null,[i(e.BaseBreadcrumb,{title:e.page.title,breadcrumbs:e.breadcrumbs},null,8,["title","breadcrumbs"]),i(O,null,{default:d(()=>[i(C,{cols:"12"},{default:d(()=>[i(e.BannerForm,{file:e.file,"onUpdate:file":t[0]||(t[0]=n=>e.file=n),"posting-period":e.postingPeriod,"onUpdate:postingPeriod":t[1]||(t[1]=n=>e.postingPeriod=n),exposed:e.exposed,"onUpdate:exposed":t[2]||(t[2]=n=>e.exposed=n),order:e.order,"onUpdate:order":t[3]||(t[3]=n=>e.order=n),ref:"BannerFormRef",landing:e.landing,"onUpdate:landing":t[4]||(t[4]=n=>e.landing=n),type:e.BANNER_TYPE.BENEFIT},null,8,["file","posting-period","exposed","order","landing","type"])]),_:1}),i(C,{cols:"12",class:"d-flex justify-space-between"},{default:d(()=>[i(N,{flat:"",color:"error",onClick:e.onDeleteBanner},{default:d(()=>[y("삭제")]),_:1}),i(N,{flat:"",color:"grey100",onClick:t[5]||(t[5]=n=>e.router.push("/benefits-banners"))},{default:d(()=>[y("목록 이동")]),_:1}),i(N,{flat:"",color:"grey200",disabled:!e.enable,onClick:e.onSave},{default:d(()=>[y("저장")]),_:1},8,["disabled"])]),_:1})]),_:1})],64)}const de=q(Q,[["render",X],["__file","C:/workspace/hiplusWEB/smhiplus-mobile-admin-front/src/views/ABAN/ABAN1700.vue"]]);export{de as default};
