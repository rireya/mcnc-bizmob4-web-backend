import{d as K,E as X,j as u,l as Z,s as $,p as ee,_ as te,o as ae,e as le,a as t,w as a,H as w,a2 as oe,I as C,J as L,f as l,aj as V,ak as se,al as D,M as ne,g as p,h as b,U,am as ue,ao as de}from"./index-C5K_s1wl.js";import{B as re}from"./BaseBreadcrumb-DEdlJy1-.js";import{u as ie,a as ce}from"./useNetwork-BBZmMd-V.js";import{P as me}from"./Pagination-CMt1YS54.js";import{u as fe}from"./useCommonCode-DIzdSdac.js";import{B as Ce}from"./common-AUcBvRqL.js";import{T as ge}from"./TableEmptyState-DTIE6Crm.js";const be=K({__name:"ABOR4000",setup(O,{expose:s}){s();const g=ie(),e=X(),{confirm:_}=ce(),q=u({title:"FAQ"}),o=u([{text:"Dashboard (Home)",disabled:!1,href:"/admin/dashboard"},{text:"게시판 관리",disabled:!1,href:"/admin/faqs"},{text:"FAQ",disabled:!0,href:"#"}]),v=u([]),j=[{title:"No",value:"no",align:"center",width:"6%"},{title:"카테고리",value:"parentCategoryName",align:"center",width:"14%"},{title:"카테고리 2",value:"subCategoryName",align:"center",width:"14%"},{title:"질문",value:"title",headerProps:{align:"center"}},{title:"ID",value:"faqDocId",align:"center",width:"14%"},{title:"노출여부",value:"displayFlag",align:"center",width:"10%"}],i=u(1),I=u(0),F=u(0),A=u([]),h=u(!1),B=u("A"),{getBoardCategory:S}=fe(),y=u([]),N=Z(()=>[{text:"전체",value:null},...y.value.map(n=>({text:n.codeName,value:n.codeId}))]),c=u([{text:"전체",value:null}]),k=u(N.value[0].value),m=u(c.value[0].value),P=async()=>{const n=await S(Ce.FAQ);n&&(y.value=n.categoryList,c.value=[{text:"전체",value:null}])},H=n=>{if(c.value=[{text:"전체",value:null}],n==null){m.value=null;return}const d=y.value.find(r=>r.codeId===n);d&&(d.subCommonCodeList&&d.subCommonCodeList.length&&c.value.push(...d.subCommonCodeList.map(r=>({text:r.codeName,value:r.codeId}))),m.value&&c.value.findIndex(r=>r.value===m.value)<0&&(m.value=null))},x=u(""),R=[{text:"제목",value:"TITLE"},{text:"내용",value:"CONTENTS"}],T=u(R[0].value);$(i,()=>{f()});const M=()=>{i.value===1?f():i.value=1},f=async(n=!1)=>{h.value=!0;const{status:d,data:r}=await g.post({url:"/board/faq/list",isLoading:n,body:{pageNo:i.value,pageSize:10,parentCategoryId:k.value,subCategoryId:m.value,keywordSearch:x.value?{keywordType:T.value,keyword:x.value}:null,displayFlag:B.value==="A"?null:B.value}});return h.value=!1,d?(v.value=[],A.value=r.faqBoardDocs.map((G,J)=>{const W=r.totalCnt-(i.value-1)*10;return{...G,no:W-J}}),I.value=r.totalCnt,F.value=Math.ceil(r.totalCnt/10),!0):!1},Q=async()=>{const{status:n}=await g.post({url:"/board/faq/set/display/list",body:{docList:v.value.map(d=>({faqDocId:d,displayFlag:"N"}))}});n&&f()},Y=async()=>{const{role:n}=await _("삭제하시겠습니까?","삭제","취소");if(n!="confirm")return;const{status:d}=await g.post({url:"/board/faq/delete/list",body:{faqDocIds:v.value}});d&&f()},z=()=>{e.push("/faqs/create")};ee(()=>{f(!0),P()});const E={network:g,router:e,confirm:_,page:q,breadcrumbs:o,selectedRows:v,tableHeader:j,currentPage:i,totalItems:I,totalPages:F,faqList:A,loading:h,exposedStatus:B,getBoardCategory:S,categoryList:y,parentCategoryItems:N,subCategoryItems:c,parentCategoryId:k,subCategoryId:m,getCategorySelection:P,onParentCategoryChange:H,query:x,querySelectionItems:R,queryBy:T,searchFaq:M,reqFaq:f,UnexposedSelected:Q,deleteFaq:Y,registerFaq:z,openDetail:(n,{item:d})=>{e.push("/faqs/"+d.faqDocId)},BaseBreadcrumb:re,Pagination:me,get TableEmptyState(){return ge}};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),ve={class:"form-table"},ye=l("colgroup",null,[l("col",{style:{width:"124px"}}),l("col"),l("col",{style:{width:"124px"}}),l("col")],-1),pe={class:"border-b-sm"},_e=l("th",{class:"border-e-sm text-button font-weight-bold"},"카테고리",-1),he={class:"px-4 py-2"},Be=l("th",{class:"border-e-sm text-button font-weight-bold"},"노출여부",-1),xe={class:"px-4 py-2"},we=l("th",{class:"text-button font-weight-bold"},"검색어",-1),Ve={class:"px-4 py-2",colspan:"3"},De={class:"d-flex justify-sm-end ga-2"},qe={class:"font-weight-bold"},Ie={class:"d-flex justify-space-between align-center mt-2 mb-3 px-6"},Fe={class:"d-flex justify-sm-end ga-2"};function Ae(O,s,g,e,_,q){return ae(),le(oe,null,[t(e.BaseBreadcrumb,{title:e.page.title,breadcrumbs:e.breadcrumbs},null,8,["title","breadcrumbs"]),t(w,null,{default:a(()=>[t(C,{cols:"12"},{default:a(()=>[t(L,{rounded:"lg",class:"overflow-hidden mt-4"},{default:a(()=>[l("table",ve,[ye,l("tbody",null,[l("tr",pe,[_e,l("td",he,[t(w,{dense:""},{default:a(()=>[t(C,{cols:"6"},{default:a(()=>[t(V,{items:e.parentCategoryItems,density:"compact","item-title":"text","item-value":"value",modelValue:e.parentCategoryId,"onUpdate:modelValue":[s[0]||(s[0]=o=>e.parentCategoryId=o),e.onParentCategoryChange],"single-line":"",variant:"outlined","hide-details":""},null,8,["items","modelValue"])]),_:1}),t(C,{cols:"6"},{default:a(()=>[t(V,{items:e.subCategoryItems,density:"compact","item-title":"text","item-value":"value",modelValue:e.subCategoryId,"onUpdate:modelValue":s[1]||(s[1]=o=>e.subCategoryId=o),"single-line":"",variant:"outlined","hide-details":"",disabled:e.subCategoryItems.length==1},null,8,["items","modelValue","disabled"])]),_:1})]),_:1})]),Be,l("td",xe,[t(se,{inline:"",modelValue:e.exposedStatus,"onUpdate:modelValue":s[2]||(s[2]=o=>e.exposedStatus=o),"hide-details":"auto"},{default:a(()=>[t(D,{label:"전체",value:"A",class:"mr-4"}),t(D,{label:"노출",value:"Y",class:"mr-4"}),t(D,{label:"미노출",value:"N"})]),_:1},8,["modelValue"])])]),l("tr",null,[we,l("td",Ve,[t(w,{dense:""},{default:a(()=>[t(C,{cols:"4",md:"3"},{default:a(()=>[t(V,{items:e.querySelectionItems,"item-title":"text","item-value":"value",modelValue:e.queryBy,"onUpdate:modelValue":s[3]||(s[3]=o=>e.queryBy=o),"single-line":"",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),t(C,{cols:"8",md:"6"},{default:a(()=>[t(ne,{variant:"outlined",color:"primary","hide-details":"true",modelValue:e.query,"onUpdate:modelValue":s[4]||(s[4]=o=>e.query=o),placeholder:"검색어를 입력하세요."},null,8,["modelValue"])]),_:1})]),_:1})])])])])]),_:1}),l("div",De,[t(p,{type:"submit",class:"submit-btn mt-2",flat:"",color:"secondary",onClick:e.searchFaq,variant:"outlined"},{default:a(()=>[b("검색")]),_:1})])]),_:1}),t(C,{cols:"12"},{default:a(()=>[l("p",qe,"총 "+U(e.totalItems)+"개",1),t(L,{rounded:"lg",class:"overflow-hidden mt-4"},{default:a(()=>[t(ue,{loading:e.loading,headers:e.tableHeader,itemsLength:10,items:e.faqList,"item-value":"faqDocId","show-select":"",modelValue:e.selectedRows,"onUpdate:modelValue":s[6]||(s[6]=o=>e.selectedRows=o),"onClick:row":e.openDetail},{"no-data":a(()=>[t(e.TableEmptyState)]),"item.displayFlag":a(({value:o})=>[b(U(o==="Y"?"노출":"미노출"),1)]),bottom:a(()=>[t(de),l("div",Ie,[l("div",Fe,[t(p,{type:"submit",class:"submit-btn mt-2",flat:"",color:"grey100",onClick:e.UnexposedSelected},{default:a(()=>[b("선택 미노출")]),_:1}),t(p,{type:"submit",class:"submit-btn mt-2",flat:"",color:"error",disabled:!e.selectedRows.length,onClick:e.deleteFaq},{default:a(()=>[b("삭제")]),_:1},8,["disabled"])]),t(e.Pagination,{modelValue:e.currentPage,"onUpdate:modelValue":s[5]||(s[5]=o=>e.currentPage=o),length:e.totalPages,"total-visible":7},null,8,["modelValue","length"]),t(p,{type:"submit",class:"submit-btn mt-2",flat:"",color:"grey200",onClick:e.registerFaq},{default:a(()=>[b("FAQ 등록")]),_:1})])]),_:2},1032,["loading","items","modelValue"])]),_:1})]),_:1})]),_:1})],64)}const Ue=te(be,[["render",Ae],["__file","C:/workspace/hiplusWEB/smhiplus-mobile-admin-front/src/views/ABOR/ABOR4000.vue"]]);export{Ue as default};
