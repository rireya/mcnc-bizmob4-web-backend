import{d as R,j as m,p as h,a8 as k,E as O,l as U,k as x,_ as V,o as q,e as z,a as l,w as d,H as X,a2 as j,I as Y,g as E,h as _}from"./index-C5K_s1wl.js";import{B as W}from"./BaseBreadcrumb-DEdlJy1-.js";import{B as G}from"./BannerForm-C6PZ5g-y.js";import{a as J}from"./useNetwork-BBZmMd-V.js";import{b as g}from"./common-AUcBvRqL.js";import{u as K}from"./useBannerMgmt-Citl6Y3L.js";import{f as S}from"./utils-CFlAkpuO.js";import"./PeriodDate-Y1bD6Y6f.js";import"./format-CimBkJP1.js";import"./LandingSelect-DityfkCS.js";import"./useCommonCode-DIzdSdac.js";const L=R({__name:"ABAN1400",setup(w,{expose:t}){t();const N=m({title:"홈 고정배너 상세"}),e=m([{text:"Dashboard (Home)",disabled:!1,href:"/admin/dashboard"},{text:"배너 관리",disabled:!1,href:"/admin/banner"},{text:"홈 고정배너 관리",disabled:!1,href:"/admin/fixed-banners"},{text:"홈 고정배너 상세",disabled:!0,href:"#"}]);h(()=>{A()});const{deleteBanner:c,updateBanner:b,bannerDetail:n}=K(),f=k(),{confirm:y}=J(),D=O(),v=m(),M=U(()=>{var r;return(r=v.value)==null?void 0:r.isFormValid()}),o=x({startDate:"",endDate:null,noEndDate:!0});let p="",s=null;const B=m("N"),F=m(1),i=x({}),u=x({type:null,value:null}),T=async()=>{const{role:r}=await y("삭제하시겠습니까?","삭제","취소");if(r!="confirm")return;const a=await c(g.HOME_FIXED,""+f.params.seq);a&&a.status&&D.push("/fixed-banners")},A=async()=>{const{status:r,data:a}=await n(g.HOME_FIXED,String(f.params.seq));r&&(o.startDate=a.pubStartDate,o.endDate=a.pubEndDate,o.noEndDate=!o.endDate,B.value=a.displayFlag,a.imageFile&&(s=a.imageFile,i.file={name:a.imageFile.fileName,size:a.imageFile.fileSize,uid:a.imageFile.attachId},i.imageUrl=a.imageFile.filePath),F.value=Number(a.rollingSortOrder),u.type=a.landingType,u.value=a.landingSpot,p=S(a.pubStartDate,"HH:mm:ss"))},C={page:N,breadcrumbs:e,deleteBanner:c,updateBanner:b,bannerDetail:n,route:f,confirm:y,router:D,BannerFormRef:v,enable:M,postingPeriod:o,get pubStartTime(){return p},set pubStartTime(r){p=r},get imageInfo(){return s},set imageInfo(r){s=r},exposed:B,order:F,file:i,landing:u,onDeleteBanner:T,reqFixedBannerDetails:A,onSave:async()=>{var I;const r=i.file instanceof File?{attachId:(s==null?void 0:s.attachId)??"",fileName:i.file.name,filePath:"",orderNo:0,fileSize:i.file.size}:null,a={docId:String(f.params.seq),displayFlag:B.value,deleteImageFileId:(I=i.deleteFile)==null?void 0:I.uid,pubAlwaysFlag:o.noEndDate?"Y":"N",pubStartDate:S(o.startDate,"YYYY-MM-DD[T]")+p,pubEndDate:o.endDate?S(o.endDate,"YYYY-MM-DD[T]HH:mm:ss"):null,imageFile:r,landingType:u.type,landingSpot:u.value,rollingSortOrder:F.value.toString()},H=i.file instanceof File?i.file:{},{status:P}=await b(g.HOME_FIXED,a,H);P&&D.push("/fixed-banners")},BaseBreadcrumb:W,get BannerForm(){return G},get BANNER_TYPE(){return g}};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}});function Q(w,t,N,e,c,b){return q(),z(j,null,[l(e.BaseBreadcrumb,{title:e.page.title,breadcrumbs:e.breadcrumbs},null,8,["title","breadcrumbs"]),l(X,null,{default:d(()=>[l(Y,{cols:"12"},{default:d(()=>[l(e.BannerForm,{file:e.file,"onUpdate:file":t[0]||(t[0]=n=>e.file=n),"posting-period":e.postingPeriod,"onUpdate:postingPeriod":t[1]||(t[1]=n=>e.postingPeriod=n),exposed:e.exposed,"onUpdate:exposed":t[2]||(t[2]=n=>e.exposed=n),order:e.order,"onUpdate:order":t[3]||(t[3]=n=>e.order=n),ref:"BannerFormRef",landing:e.landing,"onUpdate:landing":t[4]||(t[4]=n=>e.landing=n),type:e.BANNER_TYPE.HOME_FIXED},null,8,["file","posting-period","exposed","order","landing","type"])]),_:1}),l(Y,{cols:"12",class:"d-flex justify-space-between"},{default:d(()=>[l(E,{flat:"",color:"error",onClick:e.onDeleteBanner},{default:d(()=>[_("삭제")]),_:1}),l(E,{flat:"",color:"grey100",onClick:t[5]||(t[5]=n=>e.router.push("/fixed-banners"))},{default:d(()=>[_("목록 이동")]),_:1}),l(E,{flat:"",color:"grey200",disabled:!e.enable,onClick:e.onSave},{default:d(()=>[_("저장")]),_:1},8,["disabled"])]),_:1})]),_:1})],64)}const ue=V(L,[["render",Q],["__file","C:/workspace/hiplusWEB/smhiplus-mobile-admin-front/src/views/ABAN/ABAN1400.vue"]]);export{ue as default};
