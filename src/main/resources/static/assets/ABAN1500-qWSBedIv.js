import{d as N,j as l,k as p,E as S,_ as w,o as V,e as k,a as t,w as a,H as P,aC as I,a2 as M,I as A,g as B,h as g,f as R}from"./index-C5K_s1wl.js";import{B as T}from"./BaseBreadcrumb-DEdlJy1-.js";import{B as H}from"./BannerForm-C6PZ5g-y.js";import"./useNetwork-BBZmMd-V.js";import{b as F}from"./common-AUcBvRqL.js";import{u as O}from"./useBannerMgmt-Citl6Y3L.js";import{f as U}from"./utils-CFlAkpuO.js";import"./PeriodDate-Y1bD6Y6f.js";import"./format-CimBkJP1.js";import"./LandingSelect-DityfkCS.js";import"./useCommonCode-DIzdSdac.js";const Y=N({__name:"ABAN1500",setup(E,{expose:r}){r();const c=l({title:"홈 고정배너 등록"}),e=l([{text:"Dashboard (Home)",disabled:!1,href:"/admin/dashboard"},{text:"배너 관리",disabled:!1,href:"/admin/banner"},{text:"홈 고정배너 관리",disabled:!1,href:"/admin/fixed-banners"},{text:"홈 고정배너 등록",disabled:!0,href:"#"}]),{registerBanner:i}=O(),d=l(!1),n=p({startDate:new Date().toISOString(),endDate:null,noEndDate:!0}),b=l("N"),C=l(1),s=p({}),u=p({type:null,value:null}),D=l(),x=()=>{var o;return(o=D.value)==null?void 0:o.isFormValid()},_=S();function f(o){if(!o)return null;const m=new Date(o);return U(m,"yyyy-MM-DDTHH:mm:ss")}const y={page:c,breadcrumbs:e,registerBanner:i,showMissingBannerInfoAlert:d,postingPeriod:n,exposed:b,order:C,file:s,landing:u,BannerFormRef:D,isFormValid:x,router:_,formatToISO:f,onSave:async()=>{if(!x()){d.value=!0;return}const o={rollingSortOrder:C.value.toString(),displayFlag:b.value,pubAlwaysFlag:n.noEndDate?"Y":"N",pubStartDate:f(n.startDate),pubEndDate:f(n.endDate),imageFile:{fileName:s.file.name,fileSize:s.file.size,filePath:""},landingType:u.type,landingSpot:u.value},m=s.file instanceof File?s.file:{},{status:v}=await i(F.HOME_FIXED,o,m);v&&_.push("/fixed-banners")},BaseBreadcrumb:T,get BannerForm(){return H},get BANNER_TYPE(){return F}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),j=R("p",{class:"text-center"},"등록할 배너 정보를 입력해주세요.",-1);function h(E,r,c,e,i,d){return V(),k(M,null,[t(e.BaseBreadcrumb,{title:e.page.title,breadcrumbs:e.breadcrumbs},null,8,["title","breadcrumbs"]),t(P,null,{default:a(()=>[t(A,{cols:"12"},{default:a(()=>[t(e.BannerForm,{file:e.file,"onUpdate:file":r[0]||(r[0]=n=>e.file=n),"posting-period":e.postingPeriod,"onUpdate:postingPeriod":r[1]||(r[1]=n=>e.postingPeriod=n),exposed:e.exposed,"onUpdate:exposed":r[2]||(r[2]=n=>e.exposed=n),order:e.order,"onUpdate:order":r[3]||(r[3]=n=>e.order=n),ref:"BannerFormRef",landing:e.landing,"onUpdate:landing":r[4]||(r[4]=n=>e.landing=n),type:e.BANNER_TYPE.HOME_FIXED},null,8,["file","posting-period","exposed","order","landing","type"])]),_:1}),t(A,{cols:"12",class:"d-flex justify-space-between"},{default:a(()=>[t(B,{flat:"",color:"grey100",onClick:r[5]||(r[5]=n=>e.router.back())},{default:a(()=>[g("취소")]),_:1}),t(B,{flat:"",color:"grey100",onClick:r[6]||(r[6]=n=>e.router.push("/fixed-banners"))},{default:a(()=>[g("목록 이동")]),_:1}),t(B,{flat:"",color:"grey200",onClick:e.onSave},{default:a(()=>[g("저장")]),_:1})]),_:1})]),_:1}),t(I,{color:"gray100",modelValue:e.showMissingBannerInfoAlert,"onUpdate:modelValue":r[7]||(r[7]=n=>e.showMissingBannerInfoAlert=n),timeout:"1500"},{default:a(()=>[j]),_:1},8,["modelValue"])],64)}const re=w(Y,[["render",h],["__file","C:/workspace/hiplusWEB/smhiplus-mobile-admin-front/src/views/ABAN/ABAN1500.vue"]]);export{re as default};
