import{d as v,j as o,k as m,E as S,_ as V,o as Y,e as M,a,w as t,H as k,aC as P,a2 as T,I as _,g as p,h as B,f as I}from"./index-C5K_s1wl.js";import{B as R}from"./BaseBreadcrumb-DEdlJy1-.js";import{B as H}from"./BannerForm-C6PZ5g-y.js";import{a as U}from"./useNetwork-BBZmMd-V.js";import{b as F}from"./common-AUcBvRqL.js";import{u as j}from"./useBannerMgmt-Citl6Y3L.js";import{f as g}from"./utils-CFlAkpuO.js";import"./PeriodDate-Y1bD6Y6f.js";import"./format-CimBkJP1.js";import"./LandingSelect-DityfkCS.js";import"./useCommonCode-DIzdSdac.js";const O=v({__name:"ABAN1800",setup(w,{expose:r}){r();const b=o({title:"혜택배너 등록"}),e=o([{text:"Dashboard (Home)",disabled:!1,href:"/admin/dashboard"},{text:"배너 관리",disabled:!1,href:"/admin/banner"},{text:"혜택배너 관리",disabled:!1,href:"/admin/benefits-banners"},{text:"혜택배너 등록",disabled:!0,href:"#"}]),{registerBanner:d}=j(),{alert:u}=U(),n=o(!1),s=m({startDate:new Date().toISOString(),endDate:null,noEndDate:!0}),c=o("N"),C=o(1),l=m({}),f=m({type:null,value:null}),D=o(),x=()=>{var i;return(i=D.value)==null?void 0:i.isFormValid()},A=S(),y=async()=>{if(!x()){n.value=!0;return}const{status:i}=await d(F.BENEFIT,{imageFile:{fileSize:l.file.size,fileName:l.file.name,filePath:""},rollingSortOrder:C.value.toString(),displayFlag:c.value,pubStartDate:g(s.startDate,"YYYY-MM-DD")+g(new Date,"[T]HH:mm:ss"),pubEndDate:s.endDate?g(s.endDate,"YYYY-MM-DD[T]HH:mm:ss"):null,pubAlwaysFlag:s.noEndDate?"Y":"N",landingType:f.type,landingSpot:f.value},l.file);i&&(await N(),A.push("/benefits-banners"))},N=async()=>{await u("등록되었습니다.")},E={page:b,breadcrumbs:e,registerBanner:d,alert:u,showMissingBannerInfoAlert:n,postingPeriod:s,exposed:c,order:C,file:l,landing:f,BannerFormRef:D,isFormValid:x,router:A,onSave:y,successMs:N,BaseBreadcrumb:R,get BannerForm(){return H},get BANNER_TYPE(){return F}};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),h=I("p",{class:"text-center"},"등록할 배너 정보를 입력해주세요.",-1);function z(w,r,b,e,d,u){return Y(),M(T,null,[a(e.BaseBreadcrumb,{title:e.page.title,breadcrumbs:e.breadcrumbs},null,8,["title","breadcrumbs"]),a(k,null,{default:t(()=>[a(_,{cols:"12"},{default:t(()=>[a(e.BannerForm,{file:e.file,"onUpdate:file":r[0]||(r[0]=n=>e.file=n),"posting-period":e.postingPeriod,"onUpdate:postingPeriod":r[1]||(r[1]=n=>e.postingPeriod=n),exposed:e.exposed,"onUpdate:exposed":r[2]||(r[2]=n=>e.exposed=n),order:e.order,"onUpdate:order":r[3]||(r[3]=n=>e.order=n),ref:"BannerFormRef",landing:e.landing,"onUpdate:landing":r[4]||(r[4]=n=>e.landing=n),type:e.BANNER_TYPE.BENEFIT},null,8,["file","posting-period","exposed","order","landing","type"])]),_:1}),a(_,{cols:"12",class:"d-flex justify-space-between"},{default:t(()=>[a(p,{flat:"",color:"grey100",onClick:r[5]||(r[5]=n=>e.router.back())},{default:t(()=>[B("취소")]),_:1}),a(p,{flat:"",color:"grey100",onClick:r[6]||(r[6]=n=>e.router.push("/benefits-banners"))},{default:t(()=>[B("목록 이동")]),_:1}),a(p,{flat:"",color:"grey200",onClick:e.onSave},{default:t(()=>[B("저장")]),_:1})]),_:1})]),_:1}),a(P,{color:"gray100",modelValue:e.showMissingBannerInfoAlert,"onUpdate:modelValue":r[7]||(r[7]=n=>e.showMissingBannerInfoAlert=n),timeout:"1500"},{default:t(()=>[h]),_:1},8,["modelValue"])],64)}const re=V(O,[["render",z],["__file","C:/workspace/hiplusWEB/smhiplus-mobile-admin-front/src/views/ABAN/ABAN1800.vue"]]);export{re as default};
