import{d as E,j as l,k as p,E as S,_ as w,o as V,e as k,a as o,w as a,H as P,aC as R,a2 as M,I as y,g,h as B,f as O}from"./index-C5K_s1wl.js";import{B as T}from"./BaseBreadcrumb-DEdlJy1-.js";import{B as H}from"./BannerForm-C6PZ5g-y.js";import"./useNetwork-BBZmMd-V.js";import{b as A}from"./common-AUcBvRqL.js";import{u as I}from"./useBannerMgmt-Citl6Y3L.js";import{f as U}from"./utils-CFlAkpuO.js";import"./PeriodDate-Y1bD6Y6f.js";import"./format-CimBkJP1.js";import"./LandingSelect-DityfkCS.js";import"./useCommonCode-DIzdSdac.js";const L=E({__name:"ABAN1200",setup(v,{expose:r}){r();const c=l({title:"홈 롤링배너 등록"}),e=l([{text:"Dashboard (Home)",disabled:!1,href:"/admin/dashboard"},{text:"배너 관리",disabled:!1,href:"/admin/banner"},{text:"홈 롤링배너 관리",disabled:!1,href:"/admin/rolling-banners"},{text:"홈 롤링배너 등록",disabled:!0,href:"#"}]),{registerBanner:i}=I(),d=l(!1),n=p({startDate:new Date().toISOString(),endDate:null,noEndDate:!0}),b=l("N"),C=l(1),s=p({}),u=p({type:null,value:null}),D=l(),F=()=>{var t;return(t=D.value)==null?void 0:t.isFormValid()},_=S();function f(t){if(!t)return null;const m=new Date(t);return U(m,"yyyy-MM-DDTHH:mm:ss")}const x={page:c,breadcrumbs:e,registerBanner:i,showMissingBannerInfoAlert:d,postingPeriod:n,exposed:b,order:C,imageFiles:s,landing:u,BannerFormRef:D,isFormValid:F,router:_,formatToISO:f,onSave:async()=>{if(!F()){d.value=!0;return}const t={rollingSortOrder:C.value.toString(),displayFlag:b.value,pubAlwaysFlag:n.noEndDate?"Y":"N",pubStartDate:f(n.startDate),pubEndDate:f(n.endDate),imageFile:{fileName:s.file.name,fileSize:s.file.size,filePath:""},landingType:u.type,landingSpot:u.value},m=s.file instanceof File?s.file:{},{status:N}=await i(A.HOME_ROLL,t,m);N&&_.push("/rolling-banners")},BaseBreadcrumb:T,get BannerForm(){return H},get BANNER_TYPE(){return A}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),Y=O("p",{class:"text-center"},"등록할 배너 정보를 입력해주세요.",-1);function j(v,r,c,e,i,d){return V(),k(M,null,[o(e.BaseBreadcrumb,{title:e.page.title,breadcrumbs:e.breadcrumbs},null,8,["title","breadcrumbs"]),o(P,null,{default:a(()=>[o(y,{cols:"12"},{default:a(()=>[o(e.BannerForm,{file:e.imageFiles,"onUpdate:file":r[0]||(r[0]=n=>e.imageFiles=n),"posting-period":e.postingPeriod,"onUpdate:postingPeriod":r[1]||(r[1]=n=>e.postingPeriod=n),exposed:e.exposed,"onUpdate:exposed":r[2]||(r[2]=n=>e.exposed=n),order:e.order,"onUpdate:order":r[3]||(r[3]=n=>e.order=n),ref:"BannerFormRef",landing:e.landing,"onUpdate:landing":r[4]||(r[4]=n=>e.landing=n),type:e.BANNER_TYPE.HOME_ROLL},null,8,["file","posting-period","exposed","order","landing","type"])]),_:1}),o(y,{cols:"12",class:"d-flex justify-space-between"},{default:a(()=>[o(g,{flat:"",color:"grey100",onClick:r[5]||(r[5]=n=>e.router.back())},{default:a(()=>[B("취소")]),_:1}),o(g,{flat:"",color:"grey100",onClick:r[6]||(r[6]=n=>e.router.push("/rolling-banners"))},{default:a(()=>[B("목록 이동")]),_:1}),o(g,{flat:"",color:"grey200",onClick:e.onSave},{default:a(()=>[B("저장")]),_:1})]),_:1})]),_:1}),o(R,{color:"gray100",modelValue:e.showMissingBannerInfoAlert,"onUpdate:modelValue":r[7]||(r[7]=n=>e.showMissingBannerInfoAlert=n),timeout:"1500"},{default:a(()=>[Y]),_:1},8,["modelValue"])],64)}const re=w(L,[["render",j],["__file","C:/workspace/hiplusWEB/smhiplus-mobile-admin-front/src/views/ABAN/ABAN1200.vue"]]);export{re as default};
