import{A as v,q as k,l as w,u as D,f as E,o as b,w as n,b as o,a as p,c as x,j,r as l,d as c,p as s,t as q,x as B}from"./index-DTbqjr9d.js";const F="/assets/@login-bg-CaBZjgM7.png";function C(m){const d=v({...m.initialValues}),r=v({}),t=k(!1),u=()=>{if(m.validate){const a=m.validate(d);return Object.assign(r,a),Object.keys(a).length===0}return!0};return{values:d,errors:r,isSubmitting:t,handleSubmit:async()=>{if(u()){t.value=!0;try{await m.onSubmit(d)}finally{t.value=!1}}}}}const T={class:"d-flex flex-wrap align-center my-3 ml-n2"},N={key:0,class:"mt-2"},U=w({__name:"LoginForm",setup(m){const d=D(),{values:r,errors:t,isSubmitting:u,handleSubmit:_}=C({initialValues:{username:"gdhong@mcnc.co.kr",password:"admin123",rememberDevice:!1},validate:a=>{const e={};return a.username?/.+@.+\..+/.test(a.username)||(e.username="E-mail must be valid"):e.username="E-mail is required",a.password?a.password.length>10&&(e.password="Password must be less than 10 characters"):e.password="Password is required",a.rememberDevice||(e.rememberDevice="You must agree to continue!"),e},onSubmit:async a=>{try{await d.login(a.username,a.password)}catch(e){t.apiError=e.message||"Login failed"}}});return(a,e)=>{const g=l("v-label"),f=l("VTextField"),h=l("v-checkbox"),V=l("v-btn"),y=l("v-alert"),S=l("Form");return b(),E(S,{onSubmit:B(s(_),["prevent"]),class:"mt-5"},{default:n(()=>[o(g,{class:"text-subtitle-1 font-weight-semibold pb-2 text-lightText"},{default:n(()=>e[3]||(e[3]=[c("Username",-1)])),_:1,__:[3]}),o(f,{modelValue:s(r).username,"onUpdate:modelValue":e[0]||(e[0]=i=>s(r).username=i),"error-messages":s(t).username?[s(t).username]:[],class:"mb-8",required:"","hide-details":"auto"},null,8,["modelValue","error-messages"]),o(g,{class:"text-subtitle-1 font-weight-semibold pb-2 text-lightText"},{default:n(()=>e[4]||(e[4]=[c("Password",-1)])),_:1,__:[4]}),o(f,{modelValue:s(r).password,"onUpdate:modelValue":e[1]||(e[1]=i=>s(r).password=i),"error-messages":s(t).password?[s(t).password]:[],required:"","hide-details":"auto",type:"password",class:"pwdInput"},null,8,["modelValue","error-messages"]),p("div",T,[o(h,{modelValue:s(r).rememberDevice,"onUpdate:modelValue":e[2]||(e[2]=i=>s(r).rememberDevice=i),rules:[i=>i||"You must agree to continue!"],"error-messages":s(t).rememberDevice?[s(t).rememberDevice]:[],required:"","hide-details":"",color:"primary"},{label:n(()=>e[5]||(e[5]=[c("Remember this Device",-1)])),_:1},8,["modelValue","rules","error-messages"])]),o(V,{size:"large",loading:s(u),color:"primary",disabled:s(u),block:"",type:"submit",flat:""},{default:n(()=>e[6]||(e[6]=[c(" Sign In ",-1)])),_:1,__:[6]},8,["loading","disabled"]),s(t).apiError?(b(),x("div",N,[o(y,{color:"error"},{default:n(()=>[c(q(s(t).apiError),1)]),_:1})])):j("",!0)]),_:1},8,["onSubmit"])}}}),L={class:"pa-3"},M={class:"mt-xl-0 mt-5 mw-100"},P=w({__name:"SideLogin",setup(m){return(d,r)=>{const t=l("v-col"),u=l("v-row");return b(),x("div",L,[o(u,{class:"h-100vh mh-100 auth"},{default:n(()=>[o(t,{cols:"12",lg:"7",xl:"8",class:"d-lg-flex align-center justify-center authentication position-relative"},{default:n(()=>r[0]||(r[0]=[p("div",{class:""},[p("img",{src:F,class:"position-relative d-none d-lg-flex",alt:"login-background"})],-1)])),_:1,__:[0]}),o(t,{cols:"12",lg:"5",xl:"4",class:"d-flex align-center justify-center bg-surface"},{default:n(()=>[p("div",M,[r[1]||(r[1]=p("h2",{class:"text-h3 font-weight-semibold mb-2"},"bizMOB4-web-base",-1)),o(U)])]),_:1})]),_:1})])}}});export{P as default};
