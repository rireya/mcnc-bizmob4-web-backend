import{d as v,j as o,k as m,E as F,_ as M,o as S,e as V,a as n,w as t,H as Y,aC as k,a2 as H,I as w,g as p,h as B,f as U}from"./index-C5K_s1wl.js";import{B as O}from"./BaseBreadcrumb-DEdlJy1-.js";import{B as R}from"./BannerForm-C6PZ5g-y.js";import{a as T}from"./useNetwork-BBZmMd-V.js";import{b as y}from"./common-AUcBvRqL.js";import{u as I}from"./useBannerMgmt-Citl6Y3L.js";import{f as g}from"./utils-CFlAkpuO.js";import"./PeriodDate-Y1bD6Y6f.js";import"./format-CimBkJP1.js";import"./LandingSelect-DityfkCS.js";import"./useCommonCode-DIzdSdac.js";const j=v({__name:"ABAN3200",setup(E,{expose:r}){r();const c=o({title:"홈 팝업 배너 등록"}),e=o([{text:"Dashboard (Home)",disabled:!1,href:"/admin/dashboard"},{text:"배너 관리",disabled:!1,href:"/admin/banner"},{text:"홈 팝업 배너 관리",disabled:!1,href:"/admin/popup-banners"},{text:"홈 팝업 배너 등록",disabled:!0,href:"#"}]),{registerBanner:d}=I(),{alert:u}=T(),a=o(!1),s=m({startDate:new Date().toISOString(),endDate:null,noEndDate:!0}),b=o("N"),C=o(1),l=m({}),f=m({type:null,value:null}),D=o(),_=()=>{var i;return(i=D.value)==null?void 0:i.isFormValid()},x=F(),P=async()=>{if(!_()){a.value=!0;return}const{status:i}=await d(y.HOME_POPUP,{imageFile:{fileSize:l.file.size,fileName:l.file.name,filePath:""},rollingSortOrder:C.value.toString(),displayFlag:b.value,pubStartDate:g(s.startDate,"YYYY-MM-DD")+g(new Date,"[T]HH:mm:ss"),pubEndDate:s.endDate?g(s.endDate,"YYYY-MM-DD[T]HH:mm:ss"):null,pubAlwaysFlag:s.noEndDate?"Y":"N",landingType:f.type,landingSpot:f.value},l.file);i&&(await A(),x.push("/popup-banners"))},A=async()=>{await u("등록되었습니다.")},N={page:c,breadcrumbs:e,registerBanner:d,alert:u,showMissingBannerInfoAlert:a,postingPeriod:s,exposed:b,order:C,file:l,landing:f,BannerFormRef:D,isFormValid:_,router:x,onSave:P,successMs:A,BaseBreadcrumb:O,get BannerForm(){return R},get BANNER_TYPE(){return y}};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),h=U("p",{class:"text-center"},"등록할 배너 정보를 입력해주세요.",-1);function z(E,r,c,e,d,u){return S(),V(H,null,[n(e.BaseBreadcrumb,{title:e.page.title,breadcrumbs:e.breadcrumbs},null,8,["title","breadcrumbs"]),n(Y,null,{default:t(()=>[n(w,{cols:"12"},{default:t(()=>[n(e.BannerForm,{file:e.file,"onUpdate:file":r[0]||(r[0]=a=>e.file=a),"posting-period":e.postingPeriod,"onUpdate:postingPeriod":r[1]||(r[1]=a=>e.postingPeriod=a),exposed:e.exposed,"onUpdate:exposed":r[2]||(r[2]=a=>e.exposed=a),order:e.order,"onUpdate:order":r[3]||(r[3]=a=>e.order=a),ref:"BannerFormRef",landing:e.landing,"onUpdate:landing":r[4]||(r[4]=a=>e.landing=a),type:e.BANNER_TYPE.HOME_POPUP},null,8,["file","posting-period","exposed","order","landing","type"])]),_:1}),n(w,{cols:"12",class:"d-flex justify-space-between"},{default:t(()=>[n(p,{flat:"",color:"grey100",onClick:r[5]||(r[5]=a=>e.router.back())},{default:t(()=>[B("취소")]),_:1}),n(p,{flat:"",color:"grey100",onClick:r[6]||(r[6]=a=>e.router.push("/popup-banners"))},{default:t(()=>[B("목록 이동")]),_:1}),n(p,{flat:"",color:"grey200",onClick:e.onSave},{default:t(()=>[B("저장")]),_:1})]),_:1})]),_:1}),n(k,{color:"gray100",modelValue:e.showMissingBannerInfoAlert,"onUpdate:modelValue":r[7]||(r[7]=a=>e.showMissingBannerInfoAlert=a),timeout:"1500"},{default:t(()=>[h]),_:1},8,["modelValue"])],64)}const re=M(j,[["render",z],["__file","C:/workspace/hiplusWEB/smhiplus-mobile-admin-front/src/views/ABAN/ABAN3200.vue"]]);export{re as default};
