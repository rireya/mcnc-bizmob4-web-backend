import{d as U,j as p,a8 as I,E as R,k as P,l as h,p as k,_ as V,o as q,e as z,a as i,w as d,H as j,a2 as W,I as C,g as _,h as y}from"./index-C5K_s1wl.js";import{B as G}from"./BaseBreadcrumb-DEdlJy1-.js";import{B as J}from"./BannerForm-C6PZ5g-y.js";import{a as K}from"./useNetwork-BBZmMd-V.js";import{b as g}from"./common-AUcBvRqL.js";import{u as L}from"./useBannerMgmt-Citl6Y3L.js";import{f as A}from"./utils-CFlAkpuO.js";import"./PeriodDate-Y1bD6Y6f.js";import"./format-CimBkJP1.js";import"./LandingSelect-DityfkCS.js";import"./useCommonCode-DIzdSdac.js";const Q=U({__name:"ABAN3100",setup(M,{expose:t}){t();const E=p({title:"홈 팝업 배너 상세"}),e=p([{text:"Dashboard (Home)",disabled:!1,href:"/admin/dashboard"},{text:"배너 관리",disabled:!1,href:"/admin/banner"},{text:"홈 팝업 배너 관리",disabled:!1,href:"/admin/popup-banners"},{text:"홈 팝업 배너 상세",disabled:!0,href:"#"}]),{deleteBanner:c,bannerDetail:b,updateBanner:n}=L(),m=I(),B=R(),{alert:N}=K(),l=P({startDate:"",endDate:null,noEndDate:!0}),D=p("N"),F=p(1),o=P({}),u=P({type:null,value:null});let f="",s=null;const S=p(),O=h(()=>{var r;return(r=S.value)==null?void 0:r.isFormValid()}),T=async()=>{const r=await c(g.HOME_POPUP,""+m.params.seq);r&&r.status&&B.push("/popup-banners")},x=async()=>{const{status:r,data:a}=await b(g.HOME_POPUP,String(m.params.seq));r&&(l.startDate=a.pubStartDate,l.endDate=a.pubAlwaysFlag==="Y"?null:a.pubEndDate,l.noEndDate=a.pubAlwaysFlag==="Y",D.value=a.displayFlag,a.imageFile&&(s=a.imageFile,o.file={name:a.imageFile.fileName,size:a.imageFile.fileSize,uid:a.imageFile.attachId},o.imageUrl=a.imageFile.filePath),F.value=Number(a.rollingSortOrder),u.type=a.landingType,u.value=a.landingSpot,f=A(a.pubStartDate,"HH:mm:ss"))},H=async()=>{var Y;const r=o.file instanceof File?{attachId:(s==null?void 0:s.attachId)??"",fileName:o.file.name,filePath:"",orderNo:0,fileSize:o.file.size}:null,{status:a}=await n(g.HOME_POPUP,{docId:""+m.params.seq,imageFile:r,deleteImageFileId:(Y=o.deleteFile)==null?void 0:Y.uid,displayFlag:D.value,pubStartDate:A(l.startDate,"YYYY-MM-DD[T]")+f,pubEndDate:l.endDate?A(l.endDate,"YYYY-MM-DD[T]HH:mm:ss"):null,pubAlwaysFlag:l.noEndDate?"Y":"N",landingType:u.type,landingSpot:u.value,rollingSortOrder:F.value.toString()},o.file instanceof File?o.file:void 0);a&&(await v(),B.push("/popup-banners"))},v=async()=>{await N("수정한 내용으로 저장되었습니다.")};k(()=>{x()});const w={page:E,breadcrumbs:e,deleteBanner:c,bannerDetail:b,updateBanner:n,route:m,router:B,alert:N,postingPeriod:l,exposed:D,order:F,file:o,landing:u,get pubStartTime(){return f},set pubStartTime(r){f=r},get imageInfo(){return s},set imageInfo(r){s=r},BannerFormRef:S,enable:O,onDeleteBanner:T,reqDetails:x,onSave:H,successMs:v,BaseBreadcrumb:G,get BannerForm(){return J},get BANNER_TYPE(){return g}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}});function X(M,t,E,e,c,b){return q(),z(W,null,[i(e.BaseBreadcrumb,{title:e.page.title,breadcrumbs:e.breadcrumbs},null,8,["title","breadcrumbs"]),i(j,null,{default:d(()=>[i(C,{cols:"12"},{default:d(()=>[i(e.BannerForm,{file:e.file,"onUpdate:file":t[0]||(t[0]=n=>e.file=n),"posting-period":e.postingPeriod,"onUpdate:postingPeriod":t[1]||(t[1]=n=>e.postingPeriod=n),exposed:e.exposed,"onUpdate:exposed":t[2]||(t[2]=n=>e.exposed=n),order:e.order,"onUpdate:order":t[3]||(t[3]=n=>e.order=n),ref:"BannerFormRef",landing:e.landing,"onUpdate:landing":t[4]||(t[4]=n=>e.landing=n),type:e.BANNER_TYPE.HOME_POPUP},null,8,["file","posting-period","exposed","order","landing","type"])]),_:1}),i(C,{cols:"12",class:"d-flex justify-space-between"},{default:d(()=>[i(_,{flat:"",color:"error",onClick:e.onDeleteBanner},{default:d(()=>[y("삭제")]),_:1}),i(_,{flat:"",color:"grey100",onClick:t[5]||(t[5]=n=>e.router.push("/popup-banners"))},{default:d(()=>[y("목록 이동")]),_:1}),i(_,{flat:"",color:"grey200",disabled:!e.enable,onClick:e.onSave},{default:d(()=>[y("저장")]),_:1},8,["disabled"])]),_:1})]),_:1})],64)}const de=V(Q,[["render",X],["__file","C:/workspace/hiplusWEB/smhiplus-mobile-admin-front/src/views/ABAN/ABAN3100.vue"]]);export{de as default};
